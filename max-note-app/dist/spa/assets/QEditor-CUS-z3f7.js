import{i as Wt,r as I,o as le,w as K,a as x,g as X,J as Ut,e as Qt,b as ee,K as Zt,L as Gt,M as Ke,N as ge,d as te,O as We,P as Yt,h as w,Q as oe,T as Ue,R as Qe,S as Be,c as ie,U as ke,n as Xt,V as Jt,W as we,X as Ze,Y as ze,l as De,Z as Xe,q as en,_ as tn,$ as nn,a0 as on,a1 as Je}from"./index-MhzgOa0J.js";import{Q as xe,b as ne,e as ln,c as an}from"./dom-1fVuhhE-.js";import{a as rn,v as gt,g as _e,b as pt,n as bt,c as un,Q as ce,u as sn,d as cn}from"./QBtn-5mqrXaea.js";import{u as Me,b as Re}from"./notes-Cfz7Wb7g.js";import{c as dn,s as yt,g as kt}from"./scroll-CJ726-LS.js";let Fe,pe=0;const Y=new Array(256);for(let e=0;e<256;e++)Y[e]=(e+256).toString(16).substring(1);const fn=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),et=4096;function Ne(){(Fe===void 0||pe+16>et)&&(pe=0,Fe=fn(et));const e=Array.prototype.slice.call(Fe,pe,pe+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Y[e[0]]+Y[e[1]]+Y[e[2]]+Y[e[3]]+"-"+Y[e[4]]+Y[e[5]]+"-"+Y[e[6]]+Y[e[7]]+"-"+Y[e[8]]+Y[e[9]]+"-"+Y[e[10]]+Y[e[11]]+Y[e[12]]+Y[e[13]]+Y[e[14]]+Y[e[15]]}function hn(e){return e??null}function tt(e,t){return e??(t===!0?`f_${Ne()}`:null)}function wt({getValue:e,required:t=!0}={}){if(Wt.value===!0){const n=e!==void 0?I(hn(e())):I(null);return t===!0&&n.value===null&&le(()=>{n.value=`f_${Ne()}`}),e!==void 0&&K(e,o=>{n.value=tt(o,t)}),n}return e!==void 0?x(()=>tt(e(),t)):I(`f_${Ne()}`)}const nt=/^on[A-Z]/;function xt(){const{attrs:e,vnode:t}=X(),n={listeners:I({}),attributes:I({})};function o(){const l={},a={};for(const i in e)i!=="class"&&i!=="style"&&nt.test(i)===!1&&(l[i]=e[i]);for(const i in t.props)nt.test(i)===!0&&(a[i]=t.props[i]);n.attributes.value=l,n.listeners.value=a}return Ut(o),o(),n}function vn({validate:e,resetValidation:t,requiresQForm:n}){const o=Qt(Zt,!1);if(o!==!1){const{props:l,proxy:a}=X();Object.assign(a,{validate:e,resetValidation:t}),K(()=>l.disable,i=>{i===!0?(typeof t=="function"&&t(),o.unbindComponent(a)):o.bindComponent(a)}),le(()=>{l.disable!==!0&&o.bindComponent(a)}),ee(()=>{l.disable!==!0&&o.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const ot=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,lt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,it=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,be=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ye=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,$e={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ot.test(e),hexaColor:e=>lt.test(e),hexOrHexaColor:e=>it.test(e),rgbColor:e=>be.test(e),rgbaColor:e=>ye.test(e),rgbOrRgbaColor:e=>be.test(e)||ye.test(e),hexOrRgbColor:e=>ot.test(e)||be.test(e),hexaOrRgbaColor:e=>lt.test(e)||ye.test(e),anyColor:e=>it.test(e)||be.test(e)||ye.test(e)},mn=[!0,!1,"ondemand"],gn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>mn.includes(e)}};function pn(e,t){const{props:n,proxy:o}=X(),l=I(!1),a=I(null),i=I(!1);vn({validate:H,resetValidation:C});let s=0,y;const g=x(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),u=x(()=>n.disable!==!0&&g.value===!0&&t.value===!1),b=x(()=>n.error===!0||l.value===!0),P=x(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:a.value);K(()=>n.modelValue,()=>{i.value=!0,u.value===!0&&n.lazyRules===!1&&L()});function d(){n.lazyRules!=="ondemand"&&u.value===!0&&i.value===!0&&L()}K(()=>n.reactiveRules,z=>{z===!0?y===void 0&&(y=K(()=>n.rules,d,{immediate:!0,deep:!0})):y!==void 0&&(y(),y=void 0)},{immediate:!0}),K(()=>n.lazyRules,d),K(e,z=>{z===!0?i.value=!0:u.value===!0&&n.lazyRules!=="ondemand"&&L()});function C(){s++,t.value=!1,i.value=!1,l.value=!1,a.value=null,L.cancel()}function H(z=n.modelValue){if(n.disable===!0||g.value===!1)return!0;const M=++s,k=t.value!==!0?()=>{i.value=!0}:()=>{},S=(O,_)=>{O===!0&&k(),l.value=O,a.value=_||null,t.value=!1},E=[];for(let O=0;O<n.rules.length;O++){const _=n.rules[O];let D;if(typeof _=="function"?D=_(z,$e):typeof _=="string"&&$e[_]!==void 0&&(D=$e[_](z)),D===!1||typeof D=="string")return S(!0,D),!1;D!==!0&&D!==void 0&&E.push(D)}return E.length===0?(S(!1),!0):(t.value=!0,Promise.all(E).then(O=>{if(O===void 0||Array.isArray(O)===!1||O.length===0)return M===s&&S(!1),!0;const _=O.find(D=>D===!1||typeof D=="string");return M===s&&S(_!==void 0,_),_===void 0},O=>(M===s&&(console.error(O),S(!0)),!1)))}const L=Gt(H,0);return ee(()=>{y?.(),L.cancel()}),Object.assign(o,{resetValidation:C,validate:H}),Ke(o,"hasError",()=>b.value),{isDirtyModel:i,hasRules:g,hasError:b,errorMessage:P,validate:H,resetValidation:C}}let ae=[],me=[];function Ct(e){me=me.filter(t=>t!==e)}function bn(e){Ct(e),me.push(e)}function at(e){Ct(e),me.length===0&&ae.length!==0&&(ae[ae.length-1](),ae=[])}function Pe(e){me.length===0?e():ae.push(e)}function yn(e){ae=ae.filter(t=>t!==e)}function Ve(e){return e!=null&&(""+e).length!==0}const kn={...Me,...gn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},wn={...kn,maxlength:[Number,String]},xn=["update:modelValue","clear","focus","blur"];function Cn({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:o,proxy:l}=X(),a=Re(o,l.$q),i=wt({required:e,getValue:()=>o.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?x(()=>o.tag):{value:"label"},isDark:a,editable:x(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:I(!1),focused:I(!1),hasPopupOpen:!1,splitAttrs:xt(),targetUid:i,rootRef:I(null),targetRef:I(null),controlRef:I(null)}}function Sn(e){const{props:t,emit:n,slots:o,attrs:l,proxy:a}=X(),{$q:i}=a;let s=null;e.hasValue===void 0&&(e.hasValue=x(()=>Ve(t.modelValue))),e.emitValue===void 0&&(e.emitValue=h=>{n("update:modelValue",h)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:Q,onFocusout:m}),Object.assign(e,{clearValue:v,onControlFocusin:Q,onControlFocusout:m,focus:_}),e.computedCounter===void 0&&(e.computedCounter=x(()=>{if(t.counter!==!1){const h=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,A=t.maxlength!==void 0?t.maxlength:t.maxValues;return h+(A!==void 0?" / "+A:"")}}));const{isDirtyModel:y,hasRules:g,hasError:u,errorMessage:b,resetValidation:P}=pn(e.focused,e.innerLoading),d=e.floatingLabel!==void 0?x(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):x(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),C=x(()=>t.bottomSlots===!0||t.hint!==void 0||g.value===!0||t.counter===!0||t.error!==null),H=x(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),L=x(()=>`q-field row no-wrap items-start q-field--${H.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(d.value===!0?" q-field--float":"")+(M.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(u.value===!0?" q-field--error":"")+(u.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&C.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),z=x(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(u.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),M=x(()=>t.labelSlot===!0||t.label!==void 0),k=x(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&u.value!==!0?` text-${t.labelColor}`:"")),S=x(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:d.value,modelValue:t.modelValue,emitValue:e.emitValue})),E=x(()=>{const h={};return e.targetUid.value&&(h.for=e.targetUid.value),t.disable===!0&&(h["aria-disabled"]="true"),h});function O(){const h=document.activeElement;let A=e.targetRef?.value;A&&(h===null||h.id!==e.targetUid.value)&&(A.hasAttribute("tabindex")===!0||(A=A.querySelector("[tabindex]")),A!==h&&A?.focus({preventScroll:!0}))}function _(){Pe(O)}function D(){yn(O);const h=document.activeElement;h!==null&&e.rootRef.value.contains(h)&&h.blur()}function Q(h){s!==null&&(clearTimeout(s),s=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",h))}function m(h,A){s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",h)),A?.())})}function v(h){ge(h),i.platform.is.mobile!==!0?(e.targetRef?.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),te(()=>{const A=y.value;P(),y.value=A})}function q(h){[13,32].includes(h.keyCode)&&v(h)}function p(){const h=[];return o.prepend!==void 0&&h.push(w("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:oe},o.prepend())),h.push(w("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},F())),u.value===!0&&t.noErrorIcon===!1&&h.push(j("error",[w(xe,{name:i.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?h.push(j("inner-loading-append",o.loading!==void 0?o.loading():[w(rn,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&h.push(j("inner-clearable-append",[w(xe,{class:"q-field__focusable-action",name:t.clearIcon||i.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":i.lang.label.clear,onKeyup:q,onClick:v})])),o.append!==void 0&&h.push(w("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:oe},o.append())),e.getInnerAppend!==void 0&&h.push(j("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&h.push(e.getControlChild()),h}function F(){const h=[];return t.prefix!==void 0&&t.prefix!==null&&h.push(w("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&h.push(e.getShadowControl()),M.value===!0&&h.push(w("div",{class:k.value},ne(o.label,t.label))),e.getControl!==void 0?h.push(e.getControl()):o.rawControl!==void 0?h.push(o.rawControl()):o.control!==void 0&&h.push(w("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(S.value))),t.suffix!==void 0&&t.suffix!==null&&h.push(w("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),h.concat(ne(o.default))}function $(){let h,A;u.value===!0?b.value!==null?(h=[w("div",{role:"alert"},b.value)],A=`q--slot-error-${b.value}`):(h=ne(o.error),A="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(h=[w("div",t.hint)],A=`q--slot-hint-${t.hint}`):(h=ne(o.hint),A="q--slot-hint"));const G=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&G===!1&&h===void 0)return;const N=w("div",{key:A,class:"q-field__messages col"},h);return w("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:oe},[t.hideBottomSpace===!0?N:w(Ue,{name:"q-transition--field-message"},()=>N),G===!0?w("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function j(h,A){return A===null?null:w("div",{key:h,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},A)}let R=!1;return We(()=>{R=!0}),Yt(()=>{R===!0&&t.autofocus===!0&&a.focus()}),t.autofocus===!0&&le(()=>{a.focus()}),ee(()=>{s!==null&&clearTimeout(s)}),Object.assign(a,{focus:_,blur:D}),function(){const A=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...E.value}:E.value;return w(e.tag.value,{ref:e.rootRef,class:[L.value,l.class],style:l.style,...A},[o.before!==void 0?w("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:oe},o.before()):null,w("div",{class:"q-field__inner relative-position col self-stretch"},[w("div",{ref:e.controlRef,class:z.value,tabindex:-1,...e.controlEvents},p()),C.value===!0?$():null]),o.after!==void 0?w("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:oe},o.after()):null])}}const rt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},{tokenMap:ut,tokenKeys:qn}=St({"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}});function St(e){const t=Object.keys(e),n={};return t.forEach(o=>{const l=e[o];n[o]={...l,regex:new RegExp(l.pattern)}}),{tokenMap:n,tokenKeys:t}}function qt(e){return new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+e.join("")+"])|(.)","g")}const st=/[.*+?^${}()|[\]\\]/g,Tn=qt(qn),Z="",En={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean,maskTokens:Object};function Bn(e,t,n,o){let l,a,i,s,y,g;const u=x(()=>{if(e.maskTokens===void 0||e.maskTokens===null)return{tokenMap:ut,tokenRegexMask:Tn};const{tokenMap:m}=St(e.maskTokens),v={...ut,...m};return{tokenMap:v,tokenRegexMask:qt(Object.keys(v))}}),b=I(null),P=I(C());function d(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}K(()=>e.type+e.autogrow,L),K(()=>e.mask,m=>{if(m!==void 0)z(P.value,!0);else{const v=D(P.value);L(),e.modelValue!==v&&t("update:modelValue",v)}}),K(()=>e.fillMask+e.reverseFillMask,()=>{b.value===!0&&z(P.value,!0)}),K(()=>e.unmaskedValue,()=>{b.value===!0&&z(P.value)});function C(){if(L(),b.value===!0){const m=O(D(e.modelValue));return e.fillMask!==!1?Q(m):m}return e.modelValue}function H(m){if(m<l.length)return l.slice(-m);let v="",q=l;const p=q.indexOf(Z);if(p!==-1){for(let F=m-q.length;F>0;F--)v+=Z;q=q.slice(0,p)+v+q.slice(p)}return q}function L(){if(b.value=e.mask!==void 0&&e.mask.length!==0&&d(),b.value===!1){s=void 0,l="",a="";return}const m=rt[e.mask]===void 0?e.mask:rt[e.mask],v=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",q=v.replace(st,"\\$&"),p=[],F=[],$=[];let j=e.reverseFillMask===!0,R="",h="";m.replace(u.value.tokenRegexMask,(f,T,W,U,r)=>{if(U!==void 0){const c=u.value.tokenMap[U];$.push(c),h=c.negate,j===!0&&(F.push("(?:"+h+"+)?("+c.pattern+"+)?(?:"+h+"+)?("+c.pattern+"+)?"),j=!1),F.push("(?:"+h+"+)?("+c.pattern+")?")}else if(W!==void 0)R="\\"+(W==="\\"?"":W),$.push(W),p.push("([^"+R+"]+)?"+R+"?");else{const c=T!==void 0?T:r;R=c==="\\"?"\\\\\\\\":c.replace(st,"\\\\$&"),$.push(c),p.push("([^"+R+"]+)?"+R+"?")}});const A=new RegExp("^"+p.join("")+"("+(R===""?".":"[^"+R+"]")+"+)?"+(R===""?"":"["+R+"]*")+"$"),G=F.length-1,N=F.map((f,T)=>T===0&&e.reverseFillMask===!0?new RegExp("^"+q+"*"+f):T===G?new RegExp("^"+f+"("+(h===""?".":h)+"+)?"+(e.reverseFillMask===!0?"$":q+"*")):new RegExp("^"+f));i=$,s=f=>{const T=A.exec(e.reverseFillMask===!0?f:f.slice(0,$.length+1));T!==null&&(f=T.slice(1).join(""));const W=[],U=N.length;for(let r=0,c=f;r<U;r++){const V=N[r].exec(c);if(V===null)break;c=c.slice(V.shift().length),W.push(...V)}return W.length!==0?W.join(""):f},l=$.map(f=>typeof f=="string"?f:Z).join(""),a=l.split(Z).join(v)}function z(m,v,q){const p=o.value,F=p.selectionEnd,$=p.value.length-F,j=D(m);v===!0&&L();const R=O(j,v),h=e.fillMask!==!1?Q(R):R,A=P.value!==h;p.value!==h&&(p.value=h),A===!0&&(P.value=h),document.activeElement===p&&te(()=>{if(h===a){const N=e.reverseFillMask===!0?a.length:0;p.setSelectionRange(N,N,"forward");return}if(q==="insertFromPaste"&&e.reverseFillMask!==!0){const N=p.selectionEnd;let f=F-1;for(let T=y;T<=f&&T<N;T++)l[T]!==Z&&f++;k.right(p,f);return}if(["deleteContentBackward","deleteContentForward"].indexOf(q)!==-1){const N=e.reverseFillMask===!0?F===0?h.length>R.length?1:0:Math.max(0,h.length-(h===a?0:Math.min(R.length,$)+1))+1:F;p.setSelectionRange(N,N,"forward");return}if(e.reverseFillMask===!0)if(A===!0){const N=Math.max(0,h.length-(h===a?0:Math.min(R.length,$+1)));N===1&&F===1?p.setSelectionRange(N,N,"forward"):k.rightReverse(p,N)}else{const N=h.length-$;p.setSelectionRange(N,N,"backward")}else if(A===!0){const N=Math.max(0,l.indexOf(Z),Math.min(R.length,F)-1);k.right(p,N)}else{const N=F-1;k.right(p,N)}});const G=e.unmaskedValue===!0?D(h):h;String(e.modelValue)!==G&&(e.modelValue!==null||G!=="")&&n(G,!0)}function M(m,v,q){const p=O(D(m.value));v=Math.max(0,l.indexOf(Z),Math.min(p.length,v)),y=v,m.setSelectionRange(v,q,"forward")}const k={left(m,v){const q=l.slice(v-1).indexOf(Z)===-1;let p=Math.max(0,v-1);for(;p>=0;p--)if(l[p]===Z){v=p,q===!0&&v++;break}if(p<0&&l[v]!==void 0&&l[v]!==Z)return k.right(m,0);v>=0&&m.setSelectionRange(v,v,"backward")},right(m,v){const q=m.value.length;let p=Math.min(q,v+1);for(;p<=q;p++)if(l[p]===Z){v=p;break}else l[p-1]===Z&&(v=p);if(p>q&&l[v-1]!==void 0&&l[v-1]!==Z)return k.left(m,q);m.setSelectionRange(v,v,"forward")},leftReverse(m,v){const q=H(m.value.length);let p=Math.max(0,v-1);for(;p>=0;p--)if(q[p-1]===Z){v=p;break}else if(q[p]===Z&&(v=p,p===0))break;if(p<0&&q[v]!==void 0&&q[v]!==Z)return k.rightReverse(m,0);v>=0&&m.setSelectionRange(v,v,"backward")},rightReverse(m,v){const q=m.value.length,p=H(q),F=p.slice(0,v+1).indexOf(Z)===-1;let $=Math.min(q,v+1);for(;$<=q;$++)if(p[$-1]===Z){v=$,v>0&&F===!0&&v--;break}if($>q&&p[v-1]!==void 0&&p[v-1]!==Z)return k.leftReverse(m,q);m.setSelectionRange(v,v,"forward")}};function S(m){t("click",m),g=void 0}function E(m){if(t("keydown",m),Qe(m)===!0||m.altKey===!0)return;const v=o.value,q=v.selectionStart,p=v.selectionEnd;if(m.shiftKey||(g=void 0),m.keyCode===37||m.keyCode===39){m.shiftKey&&g===void 0&&(g=v.selectionDirection==="forward"?q:p);const F=k[(m.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(m.preventDefault(),F(v,g===q?p:q),m.shiftKey){const $=v.selectionStart;v.setSelectionRange(Math.min(g,$),Math.max(g,$),"forward")}}else m.keyCode===8&&e.reverseFillMask!==!0&&q===p?(k.left(v,q),v.setSelectionRange(v.selectionStart,p,"backward")):m.keyCode===46&&e.reverseFillMask===!0&&q===p&&(k.rightReverse(v,p),v.setSelectionRange(q,v.selectionEnd,"forward"))}function O(m,v){if(m==null||m==="")return"";if(e.reverseFillMask===!0)return _(m,v);const q=i;let p=0,F="";for(let $=0;$<q.length;$++){const j=m[p],R=q[$];if(typeof R=="string")F+=R,v===!0&&j===R&&p++;else if(j!==void 0&&R.regex.test(j))F+=R.transform!==void 0?R.transform(j):j,p++;else return F}return F}function _(m,v){const q=i,p=l.indexOf(Z);let F=m.length-1,$="";for(let j=q.length-1;j>=0&&F!==-1;j--){const R=q[j];let h=m[F];if(typeof R=="string")$=R+$,v===!0&&h===R&&F--;else if(h!==void 0&&R.regex.test(h))do $=(R.transform!==void 0?R.transform(h):h)+$,F--,h=m[F];while(p===j&&h!==void 0&&R.regex.test(h));else return $}return $}function D(m){return typeof m!="string"||s===void 0?typeof m=="number"?s(""+m):m:s(m)}function Q(m){return a.length-m.length<=0?m:e.reverseFillMask===!0&&m.length!==0?a.slice(0,-m.length)+m:m+a.slice(m.length)}return{innerValue:P,hasMask:b,moveCursorForPaste:M,updateMaskValue:z,onMaskedKeydown:E,onMaskedClick:S}}const Mn={name:String};function Rn(e){return x(()=>e.name||e.for)}function Pn(e,t){function n(){const o=e.modelValue;try{const l="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{l.items.add(a)}),{files:l.files}}catch{return{files:void 0}}}return x(()=>{if(e.type==="file")return n()})}const An=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,_n=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Fn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,$n=/[a-z0-9_ -]$/i;function On(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Be.is.firefox===!0?$n.test(n.data)===!1:An.test(n.data)===!0||_n.test(n.data)===!0||Fn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const So=ie({name:"QInput",inheritAttrs:!1,props:{...wn,...En,...Mn,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...xn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=X(),{$q:l}=o,a={};let i=NaN,s,y,g=null,u;const b=I(null),P=Rn(e),{innerValue:d,hasMask:C,moveCursorForPaste:H,updateMaskValue:L,onMaskedKeydown:z,onMaskedClick:M}=Bn(e,t,j,b),k=Pn(e),S=x(()=>Ve(d.value)),E=On(F),O=Cn({changeEvent:!0}),_=x(()=>e.type==="textarea"||e.autogrow===!0),D=x(()=>_.value===!0||["text","search","url","tel","password"].includes(e.type)),Q=x(()=>{const f={...O.splitAttrs.listeners.value,onInput:F,onPaste:p,onChange:h,onBlur:A,onFocus:ke};return f.onCompositionstart=f.onCompositionupdate=f.onCompositionend=E,C.value===!0&&(f.onKeydown=z,f.onClick=M),e.autogrow===!0&&(f.onAnimationend=$),f}),m=x(()=>{const f={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:P.value,...O.splitAttrs.attributes.value,id:O.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return _.value===!1&&(f.type=e.type),e.autogrow===!0&&(f.rows=1),f});K(()=>e.type,()=>{b.value&&(b.value.value=e.modelValue)}),K(()=>e.modelValue,f=>{if(C.value===!0){if(y===!0&&(y=!1,String(f)===i))return;L(f)}else d.value!==f&&(d.value=f,e.type==="number"&&a.hasOwnProperty("value")===!0&&(s===!0?s=!1:delete a.value));e.autogrow===!0&&te(R)}),K(()=>e.autogrow,f=>{f===!0?te(R):b.value!==null&&n.rows>0&&(b.value.style.height="auto")}),K(()=>e.dense,()=>{e.autogrow===!0&&te(R)});function v(){Pe(()=>{const f=document.activeElement;b.value!==null&&b.value!==f&&(f===null||f.id!==O.targetUid.value)&&b.value.focus({preventScroll:!0})})}function q(){b.value?.select()}function p(f){if(C.value===!0&&e.reverseFillMask!==!0){const T=f.target;H(T,T.selectionStart,T.selectionEnd)}t("paste",f)}function F(f){if(!f||!f.target)return;if(e.type==="file"){t("update:modelValue",f.target.files);return}const T=f.target.value;if(f.target.qComposing===!0){a.value=T;return}if(C.value===!0)L(T,!1,f.inputType);else if(j(T),D.value===!0&&f.target===document.activeElement){const{selectionStart:W,selectionEnd:U}=f.target;W!==void 0&&U!==void 0&&te(()=>{f.target===document.activeElement&&T.indexOf(f.target.value)===0&&f.target.setSelectionRange(W,U)})}e.autogrow===!0&&R()}function $(f){t("animationend",f),R()}function j(f,T){u=()=>{g=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==f&&i!==f&&(i=f,T===!0&&(y=!0),t("update:modelValue",f),te(()=>{i===f&&(i=NaN)})),u=void 0},e.type==="number"&&(s=!0,a.value=f),e.debounce!==void 0?(g!==null&&clearTimeout(g),a.value=f,g=setTimeout(u,e.debounce)):u()}function R(){requestAnimationFrame(()=>{const f=b.value;if(f!==null){const T=f.parentNode.style,{scrollTop:W}=f,{overflowY:U,maxHeight:r}=l.platform.is.firefox===!0?{}:window.getComputedStyle(f),c=U!==void 0&&U!=="scroll";c===!0&&(f.style.overflowY="hidden"),T.marginBottom=f.scrollHeight-1+"px",f.style.height="1px",f.style.height=f.scrollHeight+"px",c===!0&&(f.style.overflowY=parseInt(r,10)<f.scrollHeight?"auto":"hidden"),T.marginBottom="",f.scrollTop=W}})}function h(f){E(f),g!==null&&(clearTimeout(g),g=null),u?.(),t("change",f.target.value)}function A(f){f!==void 0&&ke(f),g!==null&&(clearTimeout(g),g=null),u?.(),s=!1,y=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{b.value!==null&&(b.value.value=d.value!==void 0?d.value:"")})}function G(){return a.hasOwnProperty("value")===!0?a.value:d.value!==void 0?d.value:""}ee(()=>{A()}),le(()=>{e.autogrow===!0&&R()}),Object.assign(O,{innerValue:d,fieldClass:x(()=>`q-${_.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:x(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:b,emitValue:j,hasValue:S,floatingLabel:x(()=>S.value===!0&&(e.type!=="number"||isNaN(d.value)===!1)||Ve(e.displayValue)),getControl:()=>w(_.value===!0?"textarea":"input",{ref:b,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...m.value,...Q.value,...e.type!=="file"?{value:G()}:k.value}),getShadowControl:()=>w("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(_.value===!0?"":" text-no-wrap")},[w("span",{class:"invisible"},G()),w("span",e.shadowText)])});const N=Sn(O);return Object.assign(o,{focus:v,select:q,getNativeElement:()=>b.value}),Ke(o,"nativeEl",()=>b.value),N}});function Tt(e,t){if(t&&e===t)return null;const n=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return e;const o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,l=o.display;return l==="block"||l==="table"?e:Tt(e.parentNode)}function Oe(e,t,n){return!e||e===document.body?!1:n===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function Et(e,t,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),t.count===0)n.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(let o=0;t.count!==0&&o<e.childNodes.length;o++)n=Et(e.childNodes[o],t,n);return n}const Hn=/^https?:\/\//;class Ln{constructor(t,n){this.el=t,this.eVm=n,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(Oe(t.anchorNode,this.el,!0)&&Oe(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const t=this.selection;return t?.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const n=t.startContainer;return n.nodeType===document.ELEMENT_NODE?n:n.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?Tt(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const n=document.createRange(),o=document.getSelection();t!==null?(n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),o.removeAllRanges(),o.addRange(n)):(o.selectAllChildren(this.el),o.collapseToEnd())}savePosition(){let t=-1,n;const o=document.getSelection(),l=this.el.parentNode;if(o.focusNode&&Oe(o.focusNode,l))for(n=o.focusNode,t=o.focusOffset;n&&n!==l;)n!==this.el&&n.previousSibling?(n=n.previousSibling,t+=n.textContent.length):n=n.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const n=window.getSelection(),o=Et(this.el,{count:this.savedPos});o&&(o.collapse(!1),n.removeAllRanges(),n.addRange(o))}}hasParent(t,n){const o=n?this.parent:this.blockParent;return o!==null?o.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,n,o=this.parent){return o===null?!1:t.includes(o.nodeName.toLowerCase())===!0?!0:n===!0?this.hasParents(t,n,o.parentNode):!1}is(t,n){if(this.selection===null)return!1;switch(t){case"formatBlock":return n==="DIV"&&this.parent===this.el||this.hasParent(n,n==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===n;case"fontName":const o=document.queryCommandValue(t);return o===`"${n}"`||o===n;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const l=document.queryCommandState(t);return n!==void 0?l===n:l}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,n,o=Xt){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(n)&&this.is(t,n)&&(t="outdent",n=null),n==="PRE"&&this.is(t,"PRE")&&(n="P");else if(t==="print"){o();const l=window.open();l.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),l.print(),l.close();return}else if(t==="link"){const l=this.getParentAttribute("href");if(l===null){const a=this.selectWord(this.selection),i=a?a.toString():"";if(!i.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Hn.test(i)?i:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(a.getRangeAt(0))}else this.eVm.editLinkUrl.value=l,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),o();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),o();return}document.execCommand(t,!1,n),o()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const n=document.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset);const o=n.collapsed?["backward","forward"]:["forward","backward"];n.detach();const l=t.focusNode,a=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",o[0],"character"),t.modify("move",o[1],"word"),t.extend(l,a),t.modify("extend",o[1],"character"),t.modify("extend",o[0],"word"),t}}const zn=ie({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=x(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>w("div",{class:n.value},ne(t.default))}});function je(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Jt.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Bt={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Dn={...Bt,contextMenu:Boolean};function Mt({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:l,emit:a}=X(),i=I(null);let s=null;function y(d){return i.value===null?!1:d===void 0||d.touches===void 0||d.touches.length<=1}const g={};n===void 0&&(Object.assign(g,{hide(d){l.hide(d)},toggle(d){l.toggle(d),d.qAnchorHandled=!0},toggleKey(d){Ze(d,13)===!0&&g.toggle(d)},contextClick(d){l.hide(d),oe(d),te(()=>{l.show(d),d.qAnchorHandled=!0})},prevent:oe,mobileTouch(d){if(g.mobileCleanup(d),y(d)!==!0)return;l.hide(d),i.value.classList.add("non-selectable");const C=d.target;we(g,"anchor",[[C,"touchmove","mobileCleanup","passive"],[C,"touchend","mobileCleanup","passive"],[C,"touchcancel","mobileCleanup","passive"],[i.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,l.show(d),d.qAnchorHandled=!0},300)},mobileCleanup(d){i.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&d!==void 0&&je()}}),n=function(d=o.contextMenu){if(o.noParentEvent===!0||i.value===null)return;let C;d===!0?l.$q.platform.is.mobile===!0?C=[[i.value,"touchstart","mobileTouch","passive"]]:C=[[i.value,"mousedown","hide","passive"],[i.value,"contextmenu","contextClick","notPassive"]]:C=[[i.value,"click","toggle","passive"],[i.value,"keyup","toggleKey","passive"]],we(g,"anchor",C)});function u(){ze(g,"anchor")}function b(d){for(i.value=d;i.value.classList.contains("q-anchor--skip");)i.value=i.value.parentNode;n()}function P(){if(o.target===!1||o.target===""||l.$el.parentNode===null)i.value=null;else if(o.target===!0)b(l.$el.parentNode);else{let d=o.target;if(typeof o.target=="string")try{d=document.querySelector(o.target)}catch{d=void 0}d!=null?(i.value=d.$el||d,n()):(i.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return K(()=>o.contextMenu,d=>{i.value!==null&&(u(),n(d))}),K(()=>o.target,()=>{i.value!==null&&u(),P()}),K(()=>o.noParentEvent,d=>{i.value!==null&&(d===!0?u():n())}),le(()=>{P(),t!==!0&&o.modelValue===!0&&i.value===null&&a("update:modelValue",!1)}),ee(()=>{s!==null&&clearTimeout(s),u()}),{anchorEl:i,canShow:y,anchorEvents:g}}function Rt(e,t){const n=I(null);let o;function l(s,y){const g=`${y!==void 0?"add":"remove"}EventListener`,u=y!==void 0?y:o;s!==window&&s[g]("scroll",u,De.passive),window[g]("scroll",u,De.passive),o=y}function a(){n.value!==null&&(l(n.value),n.value=null)}const i=K(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return ee(i),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:l}}const Pt={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},At=["beforeShow","show","beforeHide","hide"];function _t({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:l,processOnMount:a}){const i=X(),{props:s,emit:y,proxy:g}=i;let u;function b(M){e.value===!0?C(M):P(M)}function P(M){if(s.disable===!0||M?.qAnchorHandled===!0||t!==void 0&&t(M)!==!0)return;const k=s["onUpdate:modelValue"]!==void 0;k===!0&&(y("update:modelValue",!0),u=M,te(()=>{u===M&&(u=void 0)})),(s.modelValue===null||k===!1)&&d(M)}function d(M){e.value!==!0&&(e.value=!0,y("beforeShow",M),o!==void 0?o(M):y("show",M))}function C(M){if(s.disable===!0)return;const k=s["onUpdate:modelValue"]!==void 0;k===!0&&(y("update:modelValue",!1),u=M,te(()=>{u===M&&(u=void 0)})),(s.modelValue===null||k===!1)&&H(M)}function H(M){e.value!==!1&&(e.value=!1,y("beforeHide",M),l!==void 0?l(M):y("hide",M))}function L(M){s.disable===!0&&M===!0?s["onUpdate:modelValue"]!==void 0&&y("update:modelValue",!1):M===!0!==e.value&&(M===!0?d:H)(u)}K(()=>s.modelValue,L),n!==void 0&&gt(i)===!0&&K(()=>g.$route.fullPath,()=>{n.value===!0&&e.value===!0&&C()}),le(()=>{L(s.modelValue)});const z={show:P,hide:C,toggle:b};return Object.assign(g,z),z}let Nn=1,Vn=document.body;function jn(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${Nn++}`:e,Xe.globalNodes!==void 0){const o=Xe.globalNodes.class;o!==void 0&&(n.className=o)}return Vn.appendChild(n),n}function In(e){e.remove()}const he=[];function Kn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return _e(e)}else if(e.__qPortal===!0){const n=_e(e);return n?.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=_e(e)}while(e!=null)}const Wn=ie({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Un(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Ft(e,t,n,o){const l=I(!1),a=I(!1);let i=null;const s={},y=o==="dialog"&&Un(e);function g(b){if(b===!0){at(s),a.value=!0;return}a.value=!1,l.value===!1&&(y===!1&&i===null&&(i=jn(!1,o)),l.value=!0,he.push(e.proxy),bn(s))}function u(b){if(a.value=!1,b!==!0)return;at(s),l.value=!1;const P=he.indexOf(e.proxy);P!==-1&&he.splice(P,1),i!==null&&(In(i),i=null)}return en(()=>{u(!0)}),e.proxy.__qPortal=!0,Ke(e.proxy,"contentEl",()=>t.value),{showPortal:g,hidePortal:u,portalIsActive:l,portalIsAccessible:a,renderPortal:()=>y===!0?n():l.value===!0?[w(tn,{to:i},w(Wn,n))]:void 0}}const ve={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function $t(e,t=()=>{},n=()=>{}){return{transitionProps:x(()=>{const o=`q-transition--${e.transitionShow||t()}`,l=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:x(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Ot(){let e;const t=X();function n(){e=void 0}return We(n),ee(n),{removeTick:n,registerTick(o){e=o,te(()=>{e===o&&(pt(t)===!1&&e(),e=void 0)})}}}function Ht(){let e=null;const t=X();function n(){e!==null&&(clearTimeout(e),e=null)}return We(n),ee(n),{removeTimeout:n,registerTimeout(o,l){n(),pt(t)===!1&&(e=setTimeout(()=>{e=null,o()},l))}}}const re=[];let de;function Qn(e){de=e.keyCode===27}function Zn(){de===!0&&(de=!1)}function Gn(e){de===!0&&(de=!1,Ze(e,27)===!0&&re[re.length-1](e))}function Lt(e){window[e]("keydown",Qn),window[e]("blur",Zn),window[e]("keyup",Gn),de=!1}function Yn(e){Be.is.desktop===!0&&(re.push(e),re.length===1&&Lt("addEventListener"))}function ct(e){const t=re.indexOf(e);t!==-1&&(re.splice(t,1),re.length===0&&Lt("removeEventListener"))}const ue=[];function zt(e){ue[ue.length-1](e)}function Xn(e){Be.is.desktop===!0&&(ue.push(e),ue.length===1&&document.body.addEventListener("focusin",zt))}function Jn(e){const t=ue.indexOf(e);t!==-1&&(ue.splice(t,1),ue.length===0&&document.body.removeEventListener("focusin",zt))}const{notPassiveCapture:Ce}=De,se=[];function Se(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=he.length-1;for(;n>=0;){const o=he[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=se.length-1;o>=0;o--){const l=se[o];if((l.anchorEl.value===null||l.anchorEl.value.contains(t)===!1)&&(t===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(t)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function Dt(e){se.push(e),se.length===1&&(document.addEventListener("mousedown",Se,Ce),document.addEventListener("touchstart",Se,Ce))}function qe(e){const t=se.findIndex(n=>n===e);t!==-1&&(se.splice(t,1),se.length===0&&(document.removeEventListener("mousedown",Se,Ce),document.removeEventListener("touchstart",Se,Ce)))}let dt,ft;function Te(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Nt(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Ie={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Ie[`${e}#ltr`]=e,Ie[`${e}#rtl`]=e});function Ee(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Ie[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function eo(e,t){let{top:n,left:o,right:l,bottom:a,width:i,height:s}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],a+=t[1],l+=t[0],i+=t[0],s+=t[1]),{top:n,bottom:a,height:s,left:o,right:l,width:i,middle:o+(l-o)/2,center:n+(a-n)/2}}function to(e,t,n){let{top:o,left:l}=e.getBoundingClientRect();return o+=t.top,l+=t.left,n!==void 0&&(o+=n[1],l+=n[0]),{top:o,bottom:o+1,height:1,left:l,right:l+1,width:1,middle:l,center:o}}function no(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function ht(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function Ge(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Ge(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:l,anchorOrigin:a,selfOrigin:i,absoluteOffset:s,fit:y,cover:g,maxHeight:u,maxWidth:b}=e;if(Be.is.ios===!0&&window.visualViewport!==void 0){const O=document.body.style,{offsetLeft:_,offsetTop:D}=window.visualViewport;_!==dt&&(O.setProperty("--q-pe-left",_+"px"),dt=_),D!==ft&&(O.setProperty("--q-pe-top",D+"px"),ft=D)}const{scrollLeft:P,scrollTop:d}=n,C=s===void 0?eo(l,g===!0?[0,0]:o):to(l,s,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:b,maxHeight:u,visibility:"visible"});const{offsetWidth:H,offsetHeight:L}=n,{elWidth:z,elHeight:M}=y===!0||g===!0?{elWidth:Math.max(C.width,H),elHeight:g===!0?Math.max(C.height,L):L}:{elWidth:H,elHeight:L};let k={maxWidth:b,maxHeight:u};(y===!0||g===!0)&&(k.minWidth=C.width+"px",g===!0&&(k.minHeight=C.height+"px")),Object.assign(n.style,k);const S=no(z,M);let E=ht(C,S,a,i);if(s===void 0||o===void 0)He(E,C,S,a,i);else{const{top:O,left:_}=E;He(E,C,S,a,i);let D=!1;if(E.top!==O){D=!0;const Q=2*o[1];C.center=C.top-=Q,C.bottom-=Q+2}if(E.left!==_){D=!0;const Q=2*o[0];C.middle=C.left-=Q,C.right-=Q+2}D===!0&&(E=ht(C,S,a,i),He(E,C,S,a,i))}k={top:E.top+"px",left:E.left+"px"},E.maxHeight!==void 0&&(k.maxHeight=E.maxHeight+"px",C.height>E.maxHeight&&(k.minHeight=k.maxHeight)),E.maxWidth!==void 0&&(k.maxWidth=E.maxWidth+"px",C.width>E.maxWidth&&(k.minWidth=k.maxWidth)),Object.assign(n.style,k),n.scrollTop!==d&&(n.scrollTop=d),n.scrollLeft!==P&&(n.scrollLeft=P)}function He(e,t,n,o,l){const a=n.bottom,i=n.right,s=dn(),y=window.innerHeight-s,g=document.body.clientWidth;if(e.top<0||e.top+a>y)if(l.vertical==="center")e.top=t[o.vertical]>y/2?Math.max(0,y-a):0,e.maxHeight=Math.min(a,y);else if(t[o.vertical]>y/2){const u=Math.min(y,o.vertical==="center"?t.center:o.vertical===l.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,u),e.top=Math.max(0,u-a)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===l.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,y-e.top);if(e.left<0||e.left+i>g)if(e.maxWidth=Math.min(i,g),l.horizontal==="middle")e.left=t[o.horizontal]>g/2?Math.max(0,g-i):0;else if(t[o.horizontal]>g/2){const u=Math.min(g,o.horizontal==="middle"?t.middle:o.horizontal===l.horizontal?t.right:t.left);e.maxWidth=Math.min(i,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===l.horizontal?t.left:t.right),e.maxWidth=Math.min(i,g-e.left)}const oo=ie({name:"QMenu",inheritAttrs:!1,props:{...Dn,...Pt,...Me,...ve,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Te},self:{type:String,validator:Te},offset:{type:Array,validator:Nt},scrollTarget:yt,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...At,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let l=null,a,i,s;const y=X(),{proxy:g}=y,{$q:u}=g,b=I(null),P=I(!1),d=x(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),C=Re(e,u),{registerTick:H,removeTick:L}=Ot(),{registerTimeout:z}=Ht(),{transitionProps:M,transitionStyle:k}=$t(e),{localScrollTarget:S,changeScrollEvent:E,unconfigureScrollTarget:O}=Rt(e,T),{anchorEl:_,canShow:D}=Mt({showing:P}),{hide:Q}=_t({showing:P,canShow:D,handleShow:G,handleHide:N,hideOnRouteChange:d,processOnMount:!0}),{showPortal:m,hidePortal:v,renderPortal:q}=Ft(y,b,V,"menu"),p={anchorEl:_,innerRef:b,onClickOutside(B){if(e.persistent!==!0&&P.value===!0)return Q(B),(B.type==="touchstart"||B.target.classList.contains("q-dialog__backdrop"))&&ge(B),!0}},F=x(()=>Ee(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),$=x(()=>e.cover===!0?F.value:Ee(e.self||"top start",u.lang.rtl)),j=x(()=>(e.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),R=x(()=>e.autoClose===!0?{onClick:W}:{}),h=x(()=>P.value===!0&&e.persistent!==!0);K(h,B=>{B===!0?(Yn(r),Dt(p)):(ct(r),qe(p))});function A(){Pe(()=>{let B=b.value;B&&B.contains(document.activeElement)!==!0&&(B=B.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||B.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||B.querySelector("[autofocus], [data-autofocus]")||B,B.focus({preventScroll:!0}))})}function G(B){if(l=e.noRefocus===!1?document.activeElement:null,Xn(U),m(),T(),a=void 0,B!==void 0&&(e.touchPosition||e.contextMenu)){const J=nn(B);if(J.left!==void 0){const{top:Ae,left:Kt}=_.value.getBoundingClientRect();a={left:J.left-Kt,top:J.top-Ae}}}i===void 0&&(i=K(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,c)),e.noFocus!==!0&&document.activeElement.blur(),H(()=>{c(),e.noFocus!==!0&&A()}),z(()=>{u.platform.is.ios===!0&&(s=e.autoClose,b.value.click()),c(),m(!0),n("show",B)},e.transitionDuration)}function N(B){L(),v(),f(!0),l!==null&&(B===void 0||B.qClickOutside!==!0)&&(((B?.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),z(()=>{v(!0),n("hide",B)},e.transitionDuration)}function f(B){a=void 0,i!==void 0&&(i(),i=void 0),(B===!0||P.value===!0)&&(Jn(U),O(),qe(p),ct(r)),B!==!0&&(l=null)}function T(){(_.value!==null||e.scrollTarget!==void 0)&&(S.value=kt(_.value,e.scrollTarget),E(S.value,c))}function W(B){s!==!0?(Kn(g,B),n("click",B)):s=!1}function U(B){h.value===!0&&e.noFocus!==!0&&ln(b.value,B.target)!==!0&&A()}function r(B){e.noEscDismiss!==!0&&(n("escapeKey"),Q(B))}function c(){Ge({targetEl:b.value,offset:e.offset,anchorEl:_.value,anchorOrigin:F.value,selfOrigin:$.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function V(){return w(Ue,M.value,()=>P.value===!0?w("div",{role:"menu",...o,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+j.value,o.class],style:[o.style,k.value],...R.value},ne(t.default)):null)}return ee(f),Object.assign(g,{focus:A,updatePosition:c}),q}}),lo=Object.keys(bt);function io(e){return lo.reduce((t,n)=>{const o=e[n];return o!==void 0&&(t[n]=o),t},{})}const ao=ie({name:"QBtnDropdown",props:{...bt,...ve,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:o}=X(),l=I(e.modelValue),a=I(null),i=wt(),s=x(()=>{const S={"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i.value,"aria-label":e.toggleAriaLabel||o.$q.lang.label[l.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(S["aria-disabled"]="true"),S}),y=x(()=>"q-btn-dropdown__arrow"+(l.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),g=x(()=>un(e)),u=x(()=>io(e));K(()=>e.modelValue,S=>{a.value?.[S?"show":"hide"]()}),K(()=>e.split,k);function b(S){l.value=!0,n("beforeShow",S)}function P(S){n("show",S),n("update:modelValue",!0)}function d(S){l.value=!1,n("beforeHide",S)}function C(S){n("hide",S),n("update:modelValue",!1)}function H(S){n("click",S)}function L(S){ke(S),k(),n("click",S)}function z(S){a.value?.toggle(S)}function M(S){a.value?.show(S)}function k(S){a.value?.hide(S)}return Object.assign(o,{show:M,hide:k,toggle:z}),le(()=>{e.modelValue===!0&&M()}),()=>{const S=[w(xe,{class:y.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&S.push(w(oo,{ref:a,id:i.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:b,onShow:P,onBeforeHide:d,onHide:C},t.default)),e.split===!1?w(ce,{class:"q-btn-dropdown q-btn-dropdown--simple",...u.value,...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:H},{default:()=>ne(t.label,[]).concat(S),loading:t.loading}):w(zn,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...g.value,glossy:e.glossy,stretch:e.stretch},()=>[w(ce,{class:"q-btn-dropdown--current",...u.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:L},{default:t.label,loading:t.loading}),w(ce,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...g.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>S)])}}}),ro=ie({name:"QTooltip",inheritAttrs:!1,props:{...Bt,...Pt,...ve,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ve.transitionShow,default:"jump-down"},transitionHide:{...ve.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Te},self:{type:String,default:"top middle",validator:Te},offset:{type:Array,default:()=>[14,14],validator:Nt},scrollTarget:yt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...At],setup(e,{slots:t,emit:n,attrs:o}){let l,a;const i=X(),{proxy:{$q:s}}=i,y=I(null),g=I(!1),u=x(()=>Ee(e.anchor,s.lang.rtl)),b=x(()=>Ee(e.self,s.lang.rtl)),P=x(()=>e.persistent!==!0),{registerTick:d,removeTick:C}=Ot(),{registerTimeout:H}=Ht(),{transitionProps:L,transitionStyle:z}=$t(e),{localScrollTarget:M,changeScrollEvent:k,unconfigureScrollTarget:S}=Rt(e,G),{anchorEl:E,canShow:O,anchorEvents:_}=Mt({showing:g,configureAnchorEl:A}),{show:D,hide:Q}=_t({showing:g,canShow:O,handleShow:p,handleHide:F,hideOnRouteChange:P,processOnMount:!0});Object.assign(_,{delayShow:R,delayHide:h});const{showPortal:m,hidePortal:v,renderPortal:q}=Ft(i,y,f,"tooltip");if(s.platform.is.mobile===!0){const T={anchorEl:E,innerRef:y,onClickOutside(U){return Q(U),U.target.classList.contains("q-dialog__backdrop")&&ge(U),!0}},W=x(()=>e.modelValue===null&&e.persistent!==!0&&g.value===!0);K(W,U=>{(U===!0?Dt:qe)(T)}),ee(()=>{qe(T)})}function p(T){m(),d(()=>{a=new MutationObserver(()=>j()),a.observe(y.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),j(),G()}),l===void 0&&(l=K(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,j)),H(()=>{m(!0),n("show",T)},e.transitionDuration)}function F(T){C(),v(),$(),H(()=>{v(!0),n("hide",T)},e.transitionDuration)}function $(){a!==void 0&&(a.disconnect(),a=void 0),l!==void 0&&(l(),l=void 0),S(),ze(_,"tooltipTemp")}function j(){Ge({targetEl:y.value,offset:e.offset,anchorEl:E.value,anchorOrigin:u.value,selfOrigin:b.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function R(T){if(s.platform.is.mobile===!0){je(),document.body.classList.add("non-selectable");const W=E.value,U=["touchmove","touchcancel","touchend","click"].map(r=>[W,r,"delayHide","passiveCapture"]);we(_,"tooltipTemp",U)}H(()=>{D(T)},e.delay)}function h(T){s.platform.is.mobile===!0&&(ze(_,"tooltipTemp"),je(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),H(()=>{Q(T)},e.hideDelay)}function A(){if(e.noParentEvent===!0||E.value===null)return;const T=s.platform.is.mobile===!0?[[E.value,"touchstart","delayShow","passive"]]:[[E.value,"mouseenter","delayShow","passive"],[E.value,"mouseleave","delayHide","passive"]];we(_,"anchor",T)}function G(){if(E.value!==null||e.scrollTarget!==void 0){M.value=kt(E.value,e.scrollTarget);const T=e.noParentEvent===!0?j:Q;k(M.value,T)}}function N(){return g.value===!0?w("div",{...o,ref:y,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,z.value],role:"tooltip"},ne(t.default)):null}function f(){return w(Ue,L.value,N)}return ee($),Object.assign(i.proxy,{updatePosition:j}),q}}),uo=ie({name:"QItem",props:{...Me,...sn,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=X(),l=Re(e,o),{hasLink:a,linkAttrs:i,linkClass:s,linkTag:y,navigateOnClick:g}=cn(),u=I(null),b=I(null),P=x(()=>e.clickable===!0||a.value===!0||e.tag==="label"),d=x(()=>e.disable!==!0&&P.value===!0),C=x(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(l.value===!0?" q-item--dark":"")+(a.value===!0&&e.active===null?s.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(d.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),H=x(()=>e.insetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function L(k){d.value===!0&&(b.value!==null&&k.qAvoidFocus!==!0&&(k.qKeyEvent!==!0&&document.activeElement===u.value?b.value.focus():document.activeElement===b.value&&u.value.focus()),g(k))}function z(k){if(d.value===!0&&Ze(k,[13,32])===!0){ge(k),k.qKeyEvent=!0;const S=new MouseEvent("click",k);S.qKeyEvent=!0,u.value.dispatchEvent(S)}n("keyup",k)}function M(){const k=an(t.default,[]);return d.value===!0&&k.unshift(w("div",{class:"q-focus-helper",tabindex:-1,ref:b})),k}return()=>{const k={ref:u,class:C.value,style:H.value,role:"listitem",onClick:L,onKeyup:z};return d.value===!0?(k.tabindex=e.tabindex||"0",Object.assign(k,i.value)):P.value===!0&&(k["aria-disabled"]="true"),w(y.value,k,M())}}}),vt=ie({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=x(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>w("div",{class:n.value},ne(t.default))}});function Vt(e,t,n){t.handler?t.handler(e,n,n.caret):n.runCmd(t.cmd,t.param)}function Ye(e){return w("div",{class:"q-editor__toolbar-group"},e)}function jt(e,t,n,o=!1){const l=o||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),a=[];if(e.$q.platform.is.desktop&&(t.tip||t.htmlTip)){const i=t.key?w("div",[w("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;a.push(w(ro,{delay:1e3},()=>[w("div",t.htmlTip?{innerHTML:t.htmlTip}:t.tip),i]))}return w(ce,{...e.buttonProps.value,icon:t.icon!==null?t.icon:void 0,color:l?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:l&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,"aria-label":t.label==null?t.tip:void 0,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(i){n?.(),Vt(i,t,e)}},()=>a)}function so(e,t){const n=t.list==="only-icons";let o=t.label,l=t.icon!==null?t.icon:void 0,a,i;function s(){g.component.proxy.hide()}if(n)i=t.options.map(u=>{const b=u.type===void 0?e.caret.is(u.cmd,u.param):!1;return b&&(o=u.tip,l=u.icon!==null?u.icon:void 0),jt(e,u,s,b)}),a=e.toolbarBackgroundClass.value,i=[Ye(i)];else{const u=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,b=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,P=t.list==="no-icons";i=t.options.map(d=>{const C=d.disable?d.disable(e):!1,H=d.type===void 0?e.caret.is(d.cmd,d.param):!1;H&&(o=d.tip,l=d.icon!==null?d.icon:void 0);const L=d.htmlTip;return w(uo,{active:H,activeClass:u,clickable:!0,disable:C,dense:!0,onClick(z){s(),z?.qAvoidFocus!==!0&&e.contentRef.value?.focus(),e.caret.restore(),Vt(z,d,e)}},()=>[P===!0?null:w(vt,{class:H?u:b,side:!0},()=>w(xe,{name:d.icon!==null?d.icon:void 0})),w(vt,L?()=>w("div",{class:"text-no-wrap",innerHTML:d.htmlTip}):d.tip?()=>w("div",{class:"text-no-wrap"},d.tip):void 0)])}),a=[e.toolbarBackgroundClass.value,b]}const y=t.highlight&&o!==t.label,g=w(ao,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:y?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:y&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:o,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:l,contentClass:a,onShow:u=>e.emit("dropdownShow",u),onHide:u=>e.emit("dropdownHide",u),onBeforeShow:u=>e.emit("dropdownBeforeShow",u),onBeforeHide:u=>e.emit("dropdownBeforeHide",u)},()=>i);return g}function co(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(n=>n.cmd==="viewsource")).map(t=>Ye(t.map(n=>e.isViewingSource.value&&n.cmd!=="viewsource"?!1:n.type==="slot"?ne(e.slots[n.slot]):n.type==="dropdown"?so(e,n):jt(e,n))))}function fo(e,t,n,o={}){const l=Object.keys(o);if(l.length===0)return{};const a={default_font:{cmd:"fontName",param:e,icon:n,tip:t}};return l.forEach(i=>{const s=o[i];a[i]={cmd:"fontName",param:s,icon:n,tip:s,htmlTip:`<font face="${s}">${s}</font>`}}),a}function ho(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let n=e.editLinkUrl.value;const o=()=>{e.caret.restore(),n!==e.editLinkUrl.value&&document.execCommand("createLink",!1,n===""?" ":n),e.editLinkUrl.value=null};return[w("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),w("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:n,onInput:l=>{ke(l),n=l.target.value},onKeydown:l=>{if(Qe(l)!==!0)switch(l.keyCode){case 13:return oe(l),o();case 27:oe(l),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),Ye([w(ce,{key:"qedt_btm_rem",...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),w(ce,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:o})])]}}let fe=0;const vo={fullscreen:Boolean,noRouteFullscreenExit:Boolean},mo=["update:fullscreen","fullscreen"];function go(){const e=X(),{props:t,emit:n,proxy:o}=e;let l,a,i;const s=I(!1);gt(e)===!0&&K(()=>o.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),K(()=>t.fullscreen,b=>{s.value!==b&&y()}),K(s,b=>{n("update:fullscreen",b),n("fullscreen",b)});function y(){s.value===!0?u():g()}function g(){s.value!==!0&&(s.value=!0,i=o.$el.parentNode,i.replaceChild(a,o.$el),document.body.appendChild(o.$el),fe++,fe===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:u},Je.add(l))}function u(){s.value===!0&&(l!==void 0&&(Je.remove(l),l=void 0),i.replaceChild(o.$el,a),s.value=!1,fe=Math.max(0,fe-1),fe===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return on(()=>{a=document.createElement("span")}),le(()=>{t.fullscreen===!0&&g()}),ee(u),Object.assign(o,{toggleFullscreen:y,setFullscreen:g,exitFullscreen:u}),{inFullscreen:s,toggleFullscreen:y}}const po=Object.prototype.toString,Le=Object.prototype.hasOwnProperty,bo=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function mt(e){if(e!==Object(e)||bo.has(po.call(e))===!0||e.constructor&&Le.call(e,"constructor")===!1&&Le.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let t;for(t in e);return t===void 0||Le.call(e,t)}function It(){let e,t,n,o,l,a,i=arguments[0]||{},s=1,y=!1;const g=arguments.length;for(typeof i=="boolean"&&(y=i,i=arguments[1]||{},s=2),Object(i)!==i&&typeof i!="function"&&(i={}),g===s&&(i=this,s--);s<g;s++)if((e=arguments[s])!==null)for(t in e)n=i[t],o=e[t],i!==o&&(y===!0&&o&&((l=Array.isArray(o))||mt(o)===!0)?(l===!0?a=Array.isArray(n)===!0?n:[]:a=mt(n)===!0?n:{},i[t]=It(y,a,o)):o!==void 0&&(i[t]=o));return i}const qo=ie({name:"QEditor",props:{...Me,...vo,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...mo,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:t,emit:n}){const{proxy:o}=X(),{$q:l}=o,a=Re(e,l),{inFullscreen:i,toggleFullscreen:s}=go(),y=xt(),g=I(null),u=I(null),b=I(null),P=I(!1),d=x(()=>!e.readonly&&!e.disable);let C,H,L=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),C=window.getComputedStyle(document.body).fontFamily;const z=x(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),M=x(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!d.value,size:"sm"})),k=x(()=>{const r=l.lang.editor,c=l.iconSet.editor;return{bold:{cmd:"bold",icon:c.bold,tip:r.bold,key:66},italic:{cmd:"italic",icon:c.italic,tip:r.italic,key:73},strike:{cmd:"strikeThrough",icon:c.strikethrough,tip:r.strikethrough,key:83},underline:{cmd:"underline",icon:c.underline,tip:r.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:c.unorderedList,tip:r.unorderedList},ordered:{cmd:"insertOrderedList",icon:c.orderedList,tip:r.orderedList},subscript:{cmd:"subscript",icon:c.subscript,tip:r.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:c.superscript,tip:r.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:V=>V.caret&&!V.caret.can("link"),icon:c.hyperlink,tip:r.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:c.toggleFullscreen,tip:r.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:c.viewSource,tip:r.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:c.quote,tip:r.quote,key:81},left:{cmd:"justifyLeft",icon:c.left,tip:r.left},center:{cmd:"justifyCenter",icon:c.center,tip:r.center},right:{cmd:"justifyRight",icon:c.right,tip:r.right},justify:{cmd:"justifyFull",icon:c.justify,tip:r.justify},print:{type:"no-state",cmd:"print",icon:c.print,tip:r.print,key:80},outdent:{type:"no-state",disable:V=>V.caret&&!V.caret.can("outdent"),cmd:"outdent",icon:c.outdent,tip:r.outdent},indent:{type:"no-state",disable:V=>V.caret&&!V.caret.can("indent"),cmd:"indent",icon:c.indent,tip:r.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:c.removeFormat,tip:r.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:c.hr,tip:r.hr},undo:{type:"no-state",cmd:"undo",icon:c.undo,tip:r.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:c.redo,tip:r.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:c.heading1||c.heading,tip:r.heading1,htmlTip:`<h1 class="q-ma-none">${r.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:c.heading2||c.heading,tip:r.heading2,htmlTip:`<h2 class="q-ma-none">${r.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:c.heading3||c.heading,tip:r.heading3,htmlTip:`<h3 class="q-ma-none">${r.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:c.heading4||c.heading,tip:r.heading4,htmlTip:`<h4 class="q-ma-none">${r.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:c.heading5||c.heading,tip:r.heading5,htmlTip:`<h5 class="q-ma-none">${r.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:c.heading6||c.heading,tip:r.heading6,htmlTip:`<h6 class="q-ma-none">${r.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:c.heading,tip:r.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:c.code,htmlTip:`<code>${r.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:c.size1||c.size,tip:r.size1,htmlTip:`<font size="1">${r.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:c.size2||c.size,tip:r.size2,htmlTip:`<font size="2">${r.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:c.size3||c.size,tip:r.size3,htmlTip:`<font size="3">${r.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:c.size4||c.size,tip:r.size4,htmlTip:`<font size="4">${r.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:c.size5||c.size,tip:r.size5,htmlTip:`<font size="5">${r.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:c.size6||c.size,tip:r.size6,htmlTip:`<font size="6">${r.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:c.size7||c.size,tip:r.size7,htmlTip:`<font size="7">${r.size7}</font>`}}}),S=x(()=>{const r=e.definitions||{},c=e.definitions||e.fonts?It(!0,{},k.value,r,fo(C,l.lang.editor.defaultFont,l.iconSet.editor.font,e.fonts)):k.value;return e.toolbar.map(V=>V.map(B=>{if(B.options)return{type:"dropdown",icon:B.icon,label:B.label,size:"sm",dense:!0,fixedLabel:B.fixedLabel,fixedIcon:B.fixedIcon,highlight:B.highlight,list:B.list,options:B.options.map(Ae=>c[Ae])};const J=c[B];return J?J.type==="no-state"||r[B]&&(J.cmd===void 0||k.value[J.cmd]&&k.value[J.cmd].type==="no-state")?J:Object.assign({type:"toggle"},J):{type:"slot",slot:B}}))}),E={$q:l,props:e,slots:t,emit:n,inFullscreen:i,toggleFullscreen:s,runCmd:f,isViewingSource:P,editLinkUrl:b,toolbarBackgroundClass:z,buttonProps:M,contentRef:u,buttons:S,setContent:N};K(()=>e.modelValue,r=>{L!==r&&(L=r,N(r,!0))}),K(b,r=>{n(`link${r?"Show":"Hide"}`)});const O=x(()=>e.toolbar&&e.toolbar.length!==0),_=x(()=>{const r={},c=V=>{V.key&&(r[V.key]={cmd:V.cmd,param:V.param})};return S.value.forEach(V=>{V.forEach(B=>{B.options?B.options.forEach(c):c(B)})}),r}),D=x(()=>i.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),Q=x(()=>`q-editor q-editor--${P.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(i.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(a.value===!0?" q-editor--dark q-dark":"")),m=x(()=>[e.contentClass,"q-editor__content",{col:i.value,"overflow-auto":i.value||e.maxHeight}]),v=x(()=>e.disable===!0?{"aria-disabled":"true"}:{});function q(){if(u.value!==null){const r=`inner${P.value===!0?"Text":"HTML"}`,c=u.value[r];c!==e.modelValue&&(L=c,n("update:modelValue",c))}}function p(r){if(n("keydown",r),r.ctrlKey!==!0||Qe(r)===!0){T();return}const c=r.keyCode,V=_.value[c];if(V!==void 0){const{cmd:B,param:J}=V;ge(r),f(B,J,!1)}}function F(r){T(),n("click",r)}function $(r){if(u.value!==null){const{scrollTop:c,scrollHeight:V}=u.value;H=V-c}E.caret.save(),n("blur",r)}function j(r){te(()=>{u.value!==null&&H!==void 0&&(u.value.scrollTop=u.value.scrollHeight-H)}),n("focus",r)}function R(r){const c=g.value;if(c!==null&&c.contains(r.target)===!0&&(r.relatedTarget===null||c.contains(r.relatedTarget)!==!0)){const V=`inner${P.value===!0?"Text":"HTML"}`;E.caret.restorePosition(u.value[V].length),T()}}function h(r){const c=g.value;c!==null&&c.contains(r.target)===!0&&(r.relatedTarget===null||c.contains(r.relatedTarget)!==!0)&&(E.caret.savePosition(),T())}function A(){H=void 0}function G(r){E.caret.save()}function N(r,c){if(u.value!==null){c===!0&&E.caret.savePosition();const V=`inner${P.value===!0?"Text":"HTML"}`;u.value[V]=r,c===!0&&(E.caret.restorePosition(u.value[V].length),T())}}function f(r,c,V=!0){W(),E.caret.restore(),E.caret.apply(r,c,()=>{W(),E.caret.save(),V&&T()})}function T(){setTimeout(()=>{b.value=null,o.$forceUpdate()},1)}function W(){Pe(()=>{u.value?.focus({preventScroll:!0})})}function U(){return u.value}return le(()=>{E.caret=o.caret=new Ln(u.value,E),N(e.modelValue),T(),document.addEventListener("selectionchange",G)}),ee(()=>{document.removeEventListener("selectionchange",G)}),Object.assign(o,{runCmd:f,refreshToolbar:T,focus:W,getContentEl:U}),()=>{let r;if(O.value){const c=[w("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+z.value},co(E))];b.value!==null&&c.push(w("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+z.value},ho(E))),r=w("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},c)}return w("div",{ref:g,class:Q.value,style:{height:i.value===!0?"100%":null},...v.value,onFocusin:R,onFocusout:h},[r,w("div",{ref:u,style:D.value,class:m.value,contenteditable:d.value,placeholder:e.placeholder,...y.listeners.value,onInput:q,onKeydown:p,onClick:F,onBlur:$,onFocus:j,onMousedown:A,onTouchstartPassive:A})])}}});export{So as Q,qo as a};
