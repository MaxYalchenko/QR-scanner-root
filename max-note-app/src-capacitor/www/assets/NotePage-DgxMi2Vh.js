import{Q as v,a as C}from"./QEditor-BdytVMoa.js";import{a as k,Q as g}from"./QCard-BNRwqLP5.js";import{Q as m}from"./QBtn-B7S4xYpW.js";import{r as p,I as w,o as Q,C as b,s as N,t as s,u as x,v as a,x as n,D as r,z as i,H as B,y as q,A as _}from"./index-CIBPdRwv.js";import{C as D,N as u}from"./notes-CoH-PD5J.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dom-DjetYgdF.js";import"./scroll-Cdhuj_zf.js";import"./axios-dkqpOiCw.js";const T={components:{Container:D},setup(){const c=w(),o=b(),l=p(null),e=p(!1),d=Number(c.params.id);return Q(async()=>{const{data:t}=await u.getAll();l.value=t.find(V=>V.id===d)||null}),{note:l,editing:e,save:async()=>{l.value&&(await u.update(l.value),e.value=!1)},remove:async()=>{await u.remove(d),await o.push("/")}}}},A={key:0},H={key:0},I={class:"q-mt-md"},U={key:1},h={class:"row items-center justify-between"},E=["innerHTML"],L={key:1};function P(c,o,l,e,d,y){const f=x("Container");return a(),N(k,{padding:""},{default:s(()=>[n(f,null,{default:s(()=>[e.note?(a(),r("div",A,[e.editing?(a(),r("div",H,[i("form",{onSubmit:o[3]||(o[3]=B((...t)=>e.save&&e.save(...t),["prevent"]))},[n(v,{modelValue:e.note.title,"onUpdate:modelValue":o[0]||(o[0]=t=>e.note.title=t),label:"Title",filled:""},null,8,["modelValue"]),n(v,{modelValue:e.note.description,"onUpdate:modelValue":o[1]||(o[1]=t=>e.note.description=t),label:"Description",filled:"",class:"q-mt-sm",dense:""},null,8,["modelValue"]),n(g,{flat:"",bordered:"",class:"q-mt-sm"},{default:s(()=>[n(C,{modelValue:e.note.content,"onUpdate:modelValue":o[2]||(o[2]=t=>e.note.content=t),"min-height":"5rem"},null,8,["modelValue"])]),_:1}),i("div",I,[n(m,{color:"positive",type:"submit"},{default:s(()=>[...o[5]||(o[5]=[q("Done",-1)])]),_:1})])],32)])):(a(),r("div",U,[i("div",h,[i("h3",null,_(e.note.title),1),i("div",null,[n(m,{round:"",color:"secondary",icon:"edit",onClick:o[4]||(o[4]=t=>e.editing=!0)}),n(m,{round:"",color:"red",icon:"delete",onClick:e.remove},null,8,["onClick"])])]),i("div",null,_(e.note.description),1),i("div",{class:"q-mt-md",innerHTML:e.note.content},null,8,E)]))])):(a(),r("div",L,"Загрузка..."))]),_:1})]),_:1})}const W=M(T,[["render",P]]);export{W as default};
